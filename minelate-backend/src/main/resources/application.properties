#Thu Aug 28 21:36:50 UTC 2025
micronaut.application.name=minelate-backend
datasources.default.dialect=POSTGRES
datasources.default.jdbc-url=${DATABASE_URL}
datasources.default.password=${DATABASE_PASSWORD}
datasources.default.username=${DATABASE_USERNAME}
flyway.datasources.default.enabled=true
micronaut.security.authentication=session
micronaut.security.endpoints.logout.get-allowed=true
micronaut.security.session.enabled=true
micronaut.security.oauth2.clients.authentik.client-id=${OAUTH_CLIENT_ID}
micronaut.security.oauth2.clients.authentik.client-secret=${OAUTH_CLIENT_SECRET}
micronaut.security.oauth2.clients.authentik.openid.issuer=${OAUTH_ISSUER_URL}
micronaut.security.oauth2.clients.authentik.scopes=openid,profile,email
micronaut.security.endpoints.oauth.enabled=true
micronaut.security.redirect.login-success=/home
micronaut.security.redirect.login-failure=/loginFailed

logger.levels.io.micronaut.security=DEBUG
logger.levels.io.micronaut.security.oauth2.client=DEBUG
logger.levels.io.micronaut.security.oauth2.routes=DEBUG
logger.levels.io.micronaut.security.oauth2=DEBUG

micronaut.server.cors.enabled=true
micronaut.server.cors.configurations.web.allowed-origins=${FRONTEND_URL}
micronaut.server.cors.configurations.web.allowed-headers=authorization,content-type

role.admin=MINELATE_ADMIN
role.user=MINELATE_USER

api-keys.plugin.name=${API_KEY_NAME}
api-keys.plugin.key=${API_KEY_VALUE}
